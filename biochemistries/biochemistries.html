<!-- Biochemistry research highlights, notes on fields of interest across the life sciences, bioinformatics introductory pieces, code write-ups, and problem walkthroughs. Louis Maddox, @biochemistries - naivelocus@gmail.com 
--><!DOCTYPE html><html lang="en"><head><meta name='text:Disqus Shortname' content='' /><link href="https://www.google.com/accounts/o8/ud?source=profiles" rel="openid2.provider" />
<link href="https://plus.google.com/107863499779440385193/" rel="openid2.local_id" />  
<link href="https://www.google.com/accounts/o8/ud?source=profiles" rel="openid.server" />
<link href="https://plus.google.com/107863499779440385193/" rel="openid.delegate" />
<link rel="stylesheet" type="text/css" href="http://static.tumblr.com/ktpagkh/eWqnle7am/base64_font_spec.css" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><title>{block:PostSummary}{PostSummary} &lt; {/block:PostSummary}{Title}</title>
<!--<meta name="viewport" content="width=600">-->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="{Favicon}" />
<link rel="apple-touch-icon-precomposed" href="{PortraitURL-128}" />
<link rel="alternate" type="application/rss+xml" href="{RSS}" />{block:Description}
<meta name="description" content="{MetaDescription}" />{/block:Description}
<meta name="color:Special" content="#fffff" />
<meta name="color:Special2" content="#fffff" />
<meta name="font:BodyFont" content="'SEGOEUIL'" />
<meta name="font:HeaderFont" content="'SEGOEUIL'" />
<meta name="font:SubheaderFont" content="'SEGOEUIL'" />
<meta name="if:Infinite scrolling" content="0" />
<meta name="if:Single column" content="0" />
<meta name="if:Show blog Title" content="0" />
<meta name="if:Show notes" content="0" />
<meta name="text:Opposite the Description" content="" />
<meta name="text:Any last words" content="" />
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@biochemistries">
<meta name="twitter:title" content="{block:PostSummary}{PostSummary}{/block:PostSummary}">
<meta name="twitter:image" content="https://31.media.tumblr.com/avatar_883b7c22fdc0_128.png">
<meta name="twitter:description" content="Click to read more">
<script>
if (navigator.userAgent.indexOf("Internet Explorer")>-1||navigator.userAgent.indexOf("Firefox")>-1) {
    if (navigator.userAgent.indexOf("Firefox")>-1) {
        fontload = document.createElement('style');
        fontload.setAttribute('type','text/css');
        fontload.setAttribute('id','fontload')
        fontload.innerHTML = "@font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url(data:application/x-font-woff;charset=utf-8;base64,//unable to escape newlines) format('woff'); font-weight: bold; font-style: italic; }";
        document.querySelector('head').appendChild(fontload);
        console.log('Firefox loaded')
    }
    else {
    fontload = document.createElement('style');
    fontload.setAttribute('type','text/css');
    fontload.setAttribute('id','fontload')
    fontload.innerHTML = "@font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot'); src: local('☺'), url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot?#iefix') format('embedded-opentype'), local('☺'), url('http://static.tumblr.com/ktpagkh/XVynkthmg/segoeuil.woff') format('woff'), local('☺'), url('http://static.tumblr.com/ktpagkh/wl2nktkvb/segoeuil.ttf') format('truetype'), local('☺'), url('http://static.tumblr.com/ktpagkh/4m0nktkwe/segoeuil.svg') format('svg'); font-weight: normal; } @font-face{ font-family: \"SEGOEUIL\", \"Helvetica Neue\", Arial, sans-serif; src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot'); src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot?#iefix') format('embedded-opentype'), url('http://static.tumblr.com/ktpagkh/Q7Qnktkyr/weblysleekuisb.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/B9bnktkzb/weblysleekuisb.ttf') format('truetype'), url('http://static.tumblr.com/ktpagkh/lX3nktl0f/weblysleekuisb.svg') format('svg'); font-weight: bold; font-style: normal; } @font-face{ font-family: \"SEGOEUIL\", \"Helvetica Neue\", Arial, sans-serif; src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot'); src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot?#iefix') format('embedded-opentype'), url('weblysleekuili.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/Mr8nle3wd/weblysleekuili.ttf') format('truetype'), url('http://static.tumblr.com/ktpagkh/7sAnle3yv/weblysleekuili.svg') format('svg'); font-style: italic; }";
    document.querySelector('head').appendChild(fontload);
    }
}
else if (navigator.appVersion.indexOf("Win")>-1) {
    console.log("Win test")
    chromeQuery = document.createElement('style');
    chromeQuery.setAttribute('type','text/css');
    chromeQuery.innerHTML = "@media screen and (-webkit-min-device-pixel-ratio:0) { /* Chrome-specific SVG font */ @font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url('http://static.tumblr.com/ktpagkh/4m0nktkwe/segoeuil.svg') format(\"svg\"), url('http://static.tumblr.com/ktpagkh/XVynkthmg/segoeuil.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/wl2nktkvb/segoeuil.ttf') format('truetype'); font-weight: normal; font-style: normal; } @font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url('http://static.tumblr.com/ktpagkh/lX3nktl0f/weblysleekuisb.svg') format(\"svg\"), url('http://static.tumblr.com/ktpagkh/Q7Qnktkyr/weblysleekuisb.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/B9bnktkzb/weblysleekuisb.ttf') format('truetype'); font-weight: bold; font-style: normal; } @font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url('http://static.tumblr.com/ktpagkh/7sAnle3yv/weblysleekuili.svg') format(\"svg\"), url('weblysleekuili.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/Mr8nle3wd/weblysleekuili.ttf') format('truetype'); font-style: italic; } }";
    document.querySelector('head').appendChild(chromeQuery);
}
else {
    fontload = document.createElement('style');
    fontload.setAttribute('type','text/css');
    fontload.setAttribute('id','fontload')
    fontload.innerHTML = "@font-face{ font-family: \"SEGOEUIL\"; src: local('☺'), url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot'); src: local('☺'), url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot?#iefix') format('embedded-opentype'), local('☺'), url('http://static.tumblr.com/ktpagkh/XVynkthmg/segoeuil.woff') format('woff'), local('☺'), url('http://static.tumblr.com/ktpagkh/wl2nktkvb/segoeuil.ttf') format('truetype'), local('☺'), url('http://static.tumblr.com/ktpagkh/4m0nktkwe/segoeuil.svg') format('svg'); font-weight: normal; } @font-face{ font-family: \"SEGOEUIL\", \"Helvetica Neue\", Arial, sans-serif; src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot'); src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot?#iefix') format('embedded-opentype'), url('http://static.tumblr.com/ktpagkh/Q7Qnktkyr/weblysleekuisb.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/B9bnktkzb/weblysleekuisb.ttf') format('truetype'), url('http://static.tumblr.com/ktpagkh/lX3nktl0f/weblysleekuisb.svg') format('svg'); font-weight: bold; font-style: normal; } @font-face{ font-family: \"SEGOEUIL\", \"Helvetica Neue\", Arial, sans-serif; src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot'); src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot?#iefix') format('embedded-opentype'), url('weblysleekuili.woff') format('woff'), url('http://static.tumblr.com/ktpagkh/Mr8nle3wd/weblysleekuili.ttf') format('truetype'), url('http://static.tumblr.com/ktpagkh/7sAnle3yv/weblysleekuili.svg') format('svg'); font-style: italic; }";
    document.querySelector('head').appendChild(fontload);
    console.log('loaded')
}
</script>
<noscript><style id="fontload" type="text/css">
    
@font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/XVynkthmg/segoeuil.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/wl2nktkvb/segoeuil.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/4m0nktkwe/segoeuil.svg') format('svg');
        font-weight: normal;
    }
    
    @font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/Q7Qnktkyr/weblysleekuisb.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/B9bnktkzb/weblysleekuisb.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/lX3nktl0f/weblysleekuisb.svg') format('svg');
        font-weight: bold;
        font-style: normal;
    }
    
    @font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot?#iefix') format('embedded-opentype'),
             url('weblysleekuili.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/Mr8nle3wd/weblysleekuili.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/7sAnle3yv/weblysleekuili.svg') format('svg');
        font-weight: normal; font-style: italic;
    }
    
    @font-face{
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/a3knle3sb/weblysleekuisbi.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/a3knle3sb/weblysleekuisbi.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/tnanle3sg/weblysleekuisbi.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/l3knle3sm/weblysleekuisbi.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/9G6nle3ss/weblysleekuisbi.svg') format('svg');
        font-weight: bold; font-style: italic;
    }
    
</style></noscript>
<script type="text/javascript">
function sneakyLinkFix(current_pagename) {
    var navlinks = document.querySelectorAll('.navlink:not(.shortened)');
    for (nl=0; nl<navlinks.length;nl++) {
        var navlinkmatch = navlinks[nl].href.match(/http:.+\/(\d\d*)/);
        var navlinkmatch_post_id = navlinkmatch[1];
        navlinks[nl].href = navlinks[nl].href.replace(/http:.+\/.*$/, "http://biochemistri.es/"+current_pagename);
        console.log(current_pagename," link fixed");
        navlinks[nl].classList.add('shortened');
    }
    var shortperma = document.querySelector('a.permalink.shorturl:not(.shortened)');
    if (shortperma !== null) {
        shortperma.href = "http://biochemistri.es" + current_pagename;
    }
}

function sneakyRename() {
  if (window.history && window.history.replaceState && /\/post\/\d\d*/.test(window.location.href)) {
    listingobj = JSON.parse('{"98651274326":"a-bioinformatics-walk-through-accessing-interfaces","93627278206":"pairing-and-stacking","99087270391":"systems-consequences-of-amplicon-formation-in-human-breast-cancer","98747455066":"gibbs-graphical-method","104293317361":"readcube-free-access","99987684211":"histone-modification-chromatin-signalling-and-structure","102462945826":"NoLS-charge-dependence","105463397986":"cochrane-ecig","104967247506":"comparison-of-geometric-motifs-common-on-greek","106792273506":"light-reg-miRNAs","106896871556":"selective-initiation","105009233476":"seasons-tweetings","113037351906":"tamara-munzner-data-stories","107306256066":"miR17-92-structure","107135276326":"evolutionary-biochemistry","112368006111":"one-weird-rmd-trick","113259869341":"gdoc-rmd-gui","113902806836":"SICP-Perlis-foreword","114288240626":"Walden","105715861371":"AD-amyloid-hypothesis","91135554841":"molecular-motions-inside-the-cell","106999236456":"ars-tumorigenesis","99496457401":"chemistrynobel2014","107211261776":"post-transcriptional-circadian-genomics","107431933266":"evol-folding-opt","107499936546":"an-11-PUM-repeat-fold","112703796076":"modular-workbook","114381869481":"siderophores-and-peer-review","114406424846":"Gaussian-building","114644897706":"family-values","115063341476":"we-need-to-talk-about-crispr","115263176916":"chemiluminescence-aka-upe","115493784606":"debunking-bryan-sykes-times","115935749316":"the-hedgehog-and-the-fox","116152833156":"dat-bids","116172272726":"the-wet-idp","116210623861":"political-inheritance","115211671006":"what-makes-dan-graur-so-angry","60571243567":"bidir-primirna-processing","53263193269":"deisseroth-clarity","83247376184":"arv-abuse","74055192495":"hiv-simultaneous-slippage","115075079951":"swiss-science","116507222746":"vault-particles","104368464406":"a-very-koonin-christmas","116387918656":"approaching-a-cure-for-hiv","55255370473":"the-essence-of-senescence","64568076646":"the-3-10-helix","53918353022":"ras-selective-lethal-compounds","83760238677":"p53-mechanisms","116343575871":"myth-of-ermes","104075339131":"ants-snakes-and-the-hydrophobic-polar-model","116130204946":"mirna-fine-tuning-src","69121175839":"enzyme-stop-and-frisk","115292084506":"how-does-cancer-metastasize","107887428226":"gpcr-diversity","111480617156":"noise-control","114945507091":"kirschner-cshl","77599424831":"negative-dna-supercoiling","104605588346":"the-trouble-with-jim","68111725581":"what-is-a-gene-post-encode","115897790226":"google-scholar-button","109708951881":"the-mitochondrial-genome","107690109276":"hmg-coa-reductase-structure","115163149756":"about-time","61098983765":"ameiotic-evolution","60687215551":"x-rays-and-explosions","60925457611":"separating-knots","116217787011":"parsimony-in-sys-bio","107947381046":"new-folds","83075210059":"sulphonic-acids","107596301311":"judging-synbio-risk","65516014820":"nanodisc-mass-spec","77182374548":"minion-intro","116470425566":"hydrophobic-or-solvophobic","116478003941":"defining-biogenesis","115252253071":"crispr-it","116559283591":"developmental-fantasy","116300965436":"stumbling","104889017711":"cassowary-and-constraint","106906872886":"two-cultures","107519253296":"cleft-recognition","116597097236":"e-coli-and-elephants","116589080496":"the-geneticist-and-the-biochemist","56608386384":"single-protein-nanoplasmonics","116719220246":"metastable-knot","116732436361":"e-cig-usage-needs-our-attention","57275193130":"signs-of-life","57793016111":"lionberger-minicircles","57009718839":"fluorescent-exciplexes","57782645213":"i-made-a-thing","116812586546":"the-smc-and-e-cigs","84151472401":"e-cigs-whats-the-harm","116823163136":"enzymes-at-low-re","116963859771":"organising-life-out-of-sequence"}');
    var current_post_id = window.location.href.match(/\/(\d\d*)/)[1];
    var current_pagename = listingobj[current_post_id];
    if (current_pagename !== undefined) {
        history.replaceState(null, null, '/'+current_pagename);
        sneakyLinkFix(current_pagename);
    }
  }
}

function sortPosts() {
  digitobj = {};
  for (i=0;i<Object.keys(listingobj).length;i++) {
    current_id = Object.keys(listingobj).sort()[i];
    if (! digitobj.propertyIsEnumerable(current_id.length)) {
      digitobj[String(current_id.length)] = []; // because Array.sort() is lexicographical
    }
    digitobj[String(current_id.length)].push(Object.keys(listingobj).sort()[i])
  }
	id_list = []; // chronological post list
	for (i=0; i<Object.keys(digitobj).sort().length; i++) {
	  id_list.push.apply(id_list, digitobj[Object.keys(digitobj).sort()[i]]);
	}
	for (i=0;i<id_list.length;i++) {
    console.log(id_list[i], listingobj[id_list[i]].replace(/\-/g," "))
  }
}
</script>
<!-- <style type="text/css" id="fontload">
    @font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/utbnkthle/segoeuil.eot?#iefix') format('embedded-opentype'),
             url('hhttp://static.tumblr.com/ktpagkh/XVynkthmg/segoeuil.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/wl2nktkvb/segoeuil.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/4m0nktkwe/segoeuil.svg') format('svg');
        font-weight: normal;
    }
    
    @font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/XSUnktky2/weblysleekuisb.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/Q7Qnktkyr/weblysleekuisb.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/B9bnktkzb/weblysleekuisb.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/lX3nktl0f/weblysleekuisb.svg') format('svg');
        font-weight: bold;
        font-style: normal;
    }
    
    @font-face{ 
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/xZknktl27/weblysleekuili.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/Gjgnktl2x/weblysleekuili.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/Mr8nle3wd/weblysleekuili.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/7sAnle3yv/weblysleekuili.svg') format('svg');
        font-weight: normal; font-style: italic;
    }
    
    @font-face{
        font-family: "SEGOEUIL";
        src: url('http://static.tumblr.com/ktpagkh/a3knle3sb/weblysleekuisbi.eot');
        src: local('☺'),
             url('http://static.tumblr.com/ktpagkh/a3knle3sb/weblysleekuisbi.eot?#iefix') format('embedded-opentype'),
             url('http://static.tumblr.com/ktpagkh/tnanle3sg/weblysleekuisbi.woff') format('woff'),
             url('http://static.tumblr.com/ktpagkh/l3knle3sm/weblysleekuisbi.ttf') format('truetype'),
             url('http://static.tumblr.com/ktpagkh/9G6nle3ss/weblysleekuisbi.svg') format('svg');
        font-weight: bold; font-style: italic;
    }
</style> -->
<style type="text/css">

h1,h2,h3,h4,h5,h6,
div.post h1,
div ol,
#content .post_quote h1,
#content .post_quote h2 {
    font-family:{font:HeaderFont},"Helvetica Neue", Arial, sans-serif;
}

pre.collapsible,
div.post h2,
#footer *,
div.info .permalink *,
div.info .notecount * {
    font-family:{font:SubheaderFont}, 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif;
}

div.post_quote h2.long p, /* The bulk of multi-paragraph quotations */
div.post_quote blockquote h2 em,
/* NB This is confusing: BodyFont is (selectively) being set on headers... */

pre.collapsible .collapsing-section,
pre.collapsible .collapsing-section *,
div.post_quote ol,
li small,
blockquote,
code,
pre,
.post p,
sub,
.post div span,
.post li,
.post p *,
input,
#description,
.info,
#footer,
#CCBYlicense {
    font-family:{font:BodyFont},'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif;
}

.post.post_link h2,
.altmetric-embed.altmetric-popover-content {
    font-family:{font:BodyFont}, 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif !important;
}


#content .post_answer p.question,#page.searchpage #header #search.zero form input[type="text"]{
    border-color:{color:Special};
}
#content .post.reblog .info a.permalink:before{
    content:"{lang:Reblogged} ";
}

/* Booleans */

{block:IfInfiniteScrolling}
#header ul#enabled li.archive,
#header ul#enabled li.rss,
#footer #anylastwords,
#footer #pagination,
#footer ul.foot {
    display:none;
}
{/block:IfInfiniteScrolling}

{block:IfSingleColumn}
#page.indexpage #content .post img {
    max-height:630px;max-width:100%;
}
#page.indexpage #content .post_even {
    clear:both;float:left;
}
#footer {
    text-align:left;
}
#footer #anylastwords {
    margin:0;
}
#footer ul {
    margin-left:-0.9em;
}
{/block:IfSingleColumn}

{block:IfNotShowBlogTitle}
#header h1#title,
#header h2#title {
    display:none;
}
#header #info {
    padding-top:0;
}
#page.permalinkpage #content ol#permalinkpagination {
    margin-top:0;
    margin-left:3%;
}
{/block:IfNotShowBlogTitle}

{block:IfNotShowNotes}
#content .post > .info a.notecount,
#content #notes {
    display:none;
}
{/block:IfNotShowNotes}

@media screen and (max-device-width: 480px){
    body{
        -webkit-text-size-adjust:100%;
    }
    
    {block:IfInfiniteScrolling}
    #header ul#enabled li.archive,
    #header ul#enabled li.rss,
    #header ul#enabled li.theme {
        display:none;
    }
    #footer #anylastwords,
    #footer #pagination,
    #footer ul.foot {
        display:block;
    }
    {/block:IfInfiniteScrolling}
}


/* Colour */

a:active,
hr,#header ul#enabled a[href*="/tggd_"],
#content ol#permalinkpagination a,
#content .post > .info a,
#content .tumblrAutoPager_page_info a,
#content #notes ol.notes li.more_notes_link_container a,
#footer ul a,
#hovertag,
#content .post_answer p.question,
#page.searchpage #header #search.zero form input[type="text"] {
    color:{color:Special};
}

a {
    color:{color:Special2};
}

/* Full style */

{CustomCSS}

</style>{block:IndexPage}{block:IfInfiniteScrolling}<script type="text/javascript" src="http://static.tumblr.com/q0etgkr/mFbkoqlkr/tumblrautopager.js"></script>{/block:IfInfiniteScrolling}{/block:IndexPage}</head><body class="{block:IndexPage}indexpage{block:TagPage} tagpage{/block:TagPage}{block:SearchPage} searchpage{/block:SearchPage}{/block:IndexPage}{block:PermalinkPage}permalinkpage post{PostID}{/block:PermalinkPage}">

<div id="fb-root"></div>
<script src="http://static.tumblr.com/ktpagkh/uaenkqytp/emoji.min.js" type="text/javascript"></script>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="page" class="{block:IndexPage}indexpage{block:TagPage} tagpage{/block:TagPage}{block:SearchPage} searchpage{/block:SearchPage}{/block:IndexPage}{block:PermalinkPage}permalinkpage post{PostID}{/block:PermalinkPage}"><div id="header"><a href="#top" id="home" title="Back to top" data-scroll=""><img src="{PortraitURL-64}" alt="{Title}" /></a><a href="/" id="top" class="anchor" title="{Title}"></a><h{block:IndexPage}1{/block:IndexPage}{block:PermalinkPage}2{/block:PermalinkPage} id="title"><a href="/">{Title}</a></h{block:IndexPage}1{/block:IndexPage}{block:PermalinkPage}2{/block:PermalinkPage}><div id="info"><div id="description"><a href="/">{block:Description}{Description}{/block:Description}</a></div>

<div id="right">{block:IfOppositeTheDescription}{text:Opposite the Description}{/block:IfOppositeTheDescription}</div></div><div id="search"{block:NoSearchResults} class="zero"{/block:NoSearchResults}><form action="/search" method="get"><input type="text" name="q" value="{SearchQuery}" placeholder="{lang:Search}" /><input type="submit" value="{lang:Search}" /></form></div></div><div id="content">{block:PermalinkPagination}<ol id="permalinkpagination">{block:PreviousPost}<li class="previouspost"><a href="{PreviousPost}"><span>{lang:Previous}</span></a></li>{/block:PreviousPost}{block:NextPost}<li class="nextpost"><a href="{NextPost}"><span>{lang:Next}</span></a></li>{/block:NextPost}</ol>{/block:PermalinkPagination}{block:IndexPage}{block:IfInfiniteScrolling}<div class="autopagerize_page_element">{/block:IfInfiniteScrolling}{/block:IndexPage}{block:Posts}<div class="post post_{PostType} post_{block:Even}even{/block:Even}{block:Odd}odd{/block:Odd} {TagsAsClasses}">{block:Text}{block:Title}<h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}><a href="{Permalink}"><span>{Title}</span></a></h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}>{/block:Title}{Body}{block:More}<p><a href="{Permalink}" class="readmore"><span>{lang:Read more}</span></a></p>{/block:More}{/block:Text}{block:Photo}<p class="container"><a href="{LinkURL}" class="linkurl" title="{LinkURL}"><code>{LinkURL}</code></a>{block:IndexPage}<a href="{Permalink}">{/block:IndexPage}<center><img src="{block:IndexPage}{block:IfSingleColumn}{PhotoURL-HighRes}{/block:IfSingleColumn}{block:IfNotSingleColumn}{PhotoURL-HighRes}{/block:IfNotSingleColumn}{/block:IndexPage}{block:PermalinkPage}{PhotoURL-HighRes}{/block:PermalinkPage}" alt="{PhotoAlt}" class="photo shadowed" /></center>{block:IndexPage}</a>{/block:IndexPage}</p>{block:Caption}{Caption}{block:More}<p><a href="{Permalink}" class="readmore"><span><small>{lang:Read more} →</small></span></a></p>{/block:More}{/block:Caption}{/block:Photo}{block:Photoset}
	<script type="text/javascript">
		var layout = {JSPhotosetLayout};
		var photocount = 0;
		var photoclass = '', photos = [];
		for(var i=0;i<layout.length;i++) {
			switch(layout[i]) {
				case "1":
					photoclass = 'col-lg-12';
					break;
				case "2":
					photoclass = 'col-lg-6';
					break;
				case "3":
					photoclass = 'col-lg-4';
					break;
				case "4":
					photoclass = 'col-lg-3';
					break;
			}
			for(var j=0; j < parseInt(layout[i]); j++) {
				photos[photocount] = {
					'class': photoclass,
					rowsize: parseInt(layout[i])
				};
				photocount++;
			}
		}
		photocount = 0;
		var rowcount = 0;
	</script>
 
	{block:Photos}
		<script>
			if(rowcount == 0) {
				document.write('<div class="row">');
			}
		</script>
 
		<a href="{Permalink}"><div id="photosetphoto" class="col-lg-3">
			<script>
				var photo = document.getElementById('photosetphoto');
				photo.className = photos[photocount].class;
				photo.removeAttribute('id');
				rowcount++;
			</script>
			<div class="thumbnail center">
						{LinkOpenTag}
				<img src="{PhotoURL-1280}" alt="{PhotoAlt}" class="img-responsive">
				{block:Caption}
					<div class="caption">
						{Caption}
					</div>
				{/block:Caption}
						{LinkCloseTag}
			</div>
		</div></a>
		<script>
			if(rowcount == photos[photocount].rowsize) {
				document.write('</div>');
				rowcount = 0;
			}
			photocount++;   
		</script>
		<script>    var photosetPics = document.querySelectorAll('div div.thumbnail img');
    for (i=0;i<photosetPics.length;i++) {
      var rowLength = photosetPics[i].parentNode.parentNode.parentNode.parentNode.querySelectorAll('div div.thumbnail img').length;
      photosetPics[i].parentNode.parentNode.setAttribute('style','width:'+100/rowLength+'%')
    }
    </script>
<script src="http://static.tumblr.com/ktpagkh/gAEnksw9n/galleryloader.js" type="text/javascript" language="javascript"></script>
	{/block:Photos}
	{block:Caption}
		<div class="caption">{Caption}</div>
	{/block:Caption}
{/block:Photoset}{block:Quote}<h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage} class="{Length}"><a href="{Permalink}">{Quote}</a></h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}>{block:Source}<div class="source">{Source}{/block:Source}</div>{/block:Quote}{block:Link}<h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}><small><a href="{URL}" {Target}></small><span>{Name}</span></a></h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}>{block:Description}{Description}{/block:Description}{/block:Link}{block:Chat}{block:Title}<h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}{/block:IndexPage}><a href="{Permalink}">{Title}</a></h{block:PermalinkPage}1{/block:PermalinkPage}{block:IndexPage}2{/block:IndexPage}>{/block:Title}{block:Lines}<p class="{Alt}">{block:Label}<span class="label">{Label}</span>{/block:Label}<span class="line">{Line}</span></p>{/block:Lines}{/block:Chat}{block:Audio}{block:AudioPlayer}<div class="regular">{block:AlbumArt}<p class="albumart"><img src="{AlbumArtURL}" alt="{block:Album}{Album}{/block:Album}" /></p>{/block:AlbumArt}<p class="metadata">{block:TrackName}<span class="trackname">{TrackName}</span>{/block:TrackName}{block:Artist}<span class="artist">{Artist}</span>{/block:Artist}{block:Album}<span class="album">{Album}</span>{/block:Album}</p><p class="audioplayer">{AudioPlayerGrey}<span class="playcount">{PlayCountWithLabel}</span>{block:ExternalAudio}<span class="download"><a href="{ExternalAudioURL}">{lang:Download}</a></span>{/block:ExternalAudio}</p></div>{/block:AudioPlayer}{block:AudioEmbed}{AudioEmbed-400}{/block:AudioEmbed}{block:Caption}{Caption}{/block:Caption}{/block:Audio}{block:Video}<p class="video-p">{Video-400}</p>{block:Caption}{Caption}{/block:Caption}{/block:Video}{block:Answer}<p class="asker"><img src="{AskerPortraitURL-16}" alt="Asker" /><span>{Asker}</span></p><p class="question">{Question}</p>{Answer}{/block:Answer}<div class="info" onmouseout="pan=this.querySelector('#sharePanel');pan.classList.remove('fbshow');"><a href="{block:IndexPage}{Permalink}{/block:IndexPage}{block:PermalinkPage}{ShortURL}{/block:PermalinkPage}" class="permalink{block:PermalinkPage} shorturl{/block:PermalinkPage}" title="{lang:Permalink}"><span>{block:Date}{Month} {DayOfMonth}, {Year}{/block:Date}</span></a>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="16" height="17" id="shareBar" onmouseover="ls=this.nextSibling.querySelectorAll('.navlink');for(i=0;i<ls.length;i++){if(!ls[i].classList[2]){ls[i].className=ls[i].className+' showme';}}"> <style> .style0{ } .style1{ fill-rule: nonzero; stroke-width: 2; fill: #D1F0E3; } .style2{ stroke-width: 2; fill: #D1F0E3; fill-rule: nonzero; } </style><metadata>image/svg+xml</metadata> <g>  <rect id="svg_9" height="17.0102" width="15.96488" y="-0.02148" x="0.02823" stroke-width="5" fill="#ffffff" class="noshow"/>
<g> <g transform="matrix(0 -0.332915 0.332915 0 201.774 -43.016)" display="inline" class="style0"> <path d="m-162.643433,-570.350464c0,4.168335 -3.379089,7.547424 -7.547409,7.547424c-4.16832,0 -7.547409,-3.379089 -7.547409,-7.547424c0,-4.168335 3.379089,-7.547424 7.547409,-7.547424c4.16832,0 7.547409,3.379089 7.547409,7.547424z" class="style1"/> <path d="m-130.981064,-570.350464c0,4.168335 -3.379089,7.547424 -7.547409,7.547424c-4.16832,0 -7.547424,-3.379089 -7.547424,-7.547424c0,-4.168335 3.379105,-7.547424 7.547424,-7.547424c4.16832,0 7.547409,3.379089 7.547409,7.547424z" class="style1"/> <path d="m-146.812241,-597.226685c0,4.168335 -3.379089,7.547424 -7.547424,7.547424c-4.16832,0 -7.547409,-3.379089 -7.547409,-7.547424c0,-4.168335 3.379089,-7.547363 7.547409,-7.547363c4.168335,0 7.547424,3.379028 7.547424,7.547363z" class="style1"/> <rect transform="matrix(0.5 -0.866025 0.866025 0.5 0 0)" y="-434.4" x="413.2" height="3" width="27.7" class="style2"/> <rect width="27.69206" height="2.99997" x="567.545719" y="-166.650936" transform="matrix(-0.5 -0.866025 -0.866025 0.5 0 0)" class="style2"/> </g> </g> </g> </svg><div id="sharePanel" onmouseover="ls=this.querySelectorAll('.navlink');for(i=0;i<ls.length;i++){if(!ls[i].classList[2]){ls[i].className=ls[i].className+' showme';}}" onmouseout="this.classList.add('fadeintwo');">
    <a class="navlink fb" title="Share this post on Facebook" href="https://www.facebook.com/sharer/sharer.php?u={Permalink}" onmouseover="pan=this.parentNode;if(pan.classList.contains('fadeintwo')){pan.classList.add('fbshow')};" onclick="window.open(this.href, 'Facebook', 'height=600,width=845');return false;"><img src="http://static.tumblr.com/ktpagkh/F7tn59wrx/yrwxe7cpwss.png"></a>
    <a class="navlink gplus" href="https://plus.google.com/share?url={Permalink}" onclick="window.open(this.href, 'Google+', 'height=600,width=845');return false;"><svg width="16" height="17" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" class="stylegplus"> <style>.stylegplus{ fill: rgb(202, 17, 69); }</style> <g> <g id="svg_1"> <path d="m6.85034,4.12788c0.39069,0.31785 1.20519,0.98336 1.20519,2.25145c0,1.23499 -0.71186,1.81771 -1.42702,2.36733c-0.22183,0.21852 -0.47678,0.45029 -0.47678,0.81781c0,0.36752 0.25494,0.56949 0.44036,0.71848l0.61253,0.46684c0.74828,0.61584 1.42702,1.18532 1.42702,2.33753c0,1.56939 -1.54622,3.15203 -4.46979,3.15203c-2.46335,0.00331 -3.65198,-1.1489 -3.65198,-2.38389c0,-0.59928 0.30461,-1.4502 1.30783,-2.03624c1.05288,-0.63239 2.48322,-0.71848 3.24474,-0.76814c-0.23839,-0.3013 -0.50989,-0.61915 -0.50989,-1.13566c0,-0.28474 0.08608,-0.45029 0.16886,-0.65226c-0.18541,0.01656 -0.37414,0.03311 -0.543,0.03311c-1.80116,0 -2.82093,-1.31776 -2.82093,-2.61897c0,-0.76814 0.35758,-1.61906 1.0893,-2.23489c0.97011,-0.78138 2.12563,-0.91382 3.04277,-0.91382l3.49968,0l-1.08599,0.59928l-1.05288,0l0,0.00001zm-1.2085,7.40991c-0.13575,-0.01655 -0.22184,-0.01655 -0.39069,-0.01655c-0.1523,0 -1.06944,0.03311 -1.7846,0.26487c-0.37414,0.13244 -1.46013,0.53306 -1.46013,1.71839c0,1.18532 1.17208,2.03623 2.98979,2.03623c1.6323,0 2.49646,-0.76814 2.49646,-1.80116c0,-0.85091 -0.55955,-1.30121 -1.85082,-2.20179m0.49334,-3.1719c0.39069,-0.38407 0.4238,-0.91713 0.4238,-1.21843c0,-1.20188 -0.73172,-3.06925 -2.14219,-3.06925c-0.44036,0 -0.91713,0.21521 -1.18863,0.54962c-0.28805,0.35096 -0.37414,0.80125 -0.37414,1.23498c0,1.1191 0.66219,2.96993 2.12563,2.96993c0.42381,0.00331 0.88072,-0.19866 1.15553,-0.46684" id="svg_2"/> <polygon points="15.342945098876953,6.121081352233887 12.750467300415039,6.121081352233887 12.750467300415039,3.531912326812744 12.164427757263184,3.531912326812744 12.164427757263184,6.121081352233887 9.525596618652344,6.121081352233887 9.525596618652344,6.71043062210083 12.164427757263184,6.71043062210083 12.164427757263184,9.388992309570312 12.750467300415039,9.388992309570312 12.750467300415039,6.71043062210083 15.342945098876953,6.71043062210083 " id="svg_3"/> </g> </g> </svg></a>
    <a class="navlink tweet" href="https://twitter.com/intent/tweet?url={Permalink}" onclick="window.open(this.href, 'Twitter', 'height=260,width=845');return false;">
<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xml:space="preserve" width="17.2413793104" height="14" version="1.1" style="fill-rule:evenodd" viewBox="0 0 6702.7121 5445" id="svg2" inkscape:version="0.48.2 r9819" sodipodi:docname="AJAX.svg" autopagermatchedrules="1"><metadata id="metadata14"><rdf:rdf><cc:work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type></cc:work></rdf:rdf></metadata><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1280" inkscape:window-height="1004" id="namedview12" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="0.82136715" inkscape:cx="192.37936" inkscape:cy="92.200948" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1" inkscape:current-layer="Livello_x0020_1"></sodipodi:namedview>
 <defs id="defs4">
  <style type="text/css" id="style6">
   
    .fil0 {fill:#41ABE1}
   
  </style>
 </defs>
 <g id="Livello_x0020_1" transform="translate(1.856116,0)">
  <metadata id="CorelCorpID_0Corel-Layer"></metadata>
  <path class="fil0" d="M 6701,645 C 6454,754 6189,828 5911,861 6195,691 6413,421 6515,100 6249,258 5955,372 5642,434 5391,167 5034,0 4638,0 3879,0 3263,616 3263,1375 c 0,108 12,213 36,313 C 2156,1631 1143,1083 465,251 347,454 279,690 279,942 c 0,477 243,898 612,1144 -225,-7 -437,-69 -623,-172 0,6 0,11 0,17 0,666 474,1222 1103,1348 -115,31 -237,48 -362,48 -89,0 -175,-9 -259,-25 175,546 683,944 1284,955 -471,369 -1063,589 -1708,589 -111,0 -220,-7 -328,-19 608,390 1331,618 2108,618 2529,0 3912,-2095 3912,-3912 0,-60 -1,-119 -4,-178 269,-194 502,-436 686,-712 z" id="path10" style="fill:#00aced;fill-opacity:1;stroke:none" inkscape:connector-curvature="0"></path>
 </g>
</svg></a>
<a class="navlink perma" href="{Permalink}" title="Permalink"><svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="m10.45406,8.77743q0,-0.28493 -0.19945,-0.48438l-1.48164,-1.48164q-0.19945,-0.19945 -0.48439,-0.19945q-0.29918,0 -0.51287,0.22795q0.02137,0.02137 0.13535,0.13178t0.15315,0.15315t0.10685,0.13535t0.09261,0.18164t0.02493,0.19589q0,0.28493 -0.19945,0.48438t-0.48438,0.19945q-0.10685,0 -0.19589,-0.02494t-0.18166,-0.09261t-0.13535,-0.10685t-0.15315,-0.15315t-0.13178,-0.13535q-0.23507,0.22083 -0.23507,0.51999q0,0.28493 0.19945,0.48439l1.46739,1.47451q0.19234,0.19233 0.48439,0.19233q0.28493,0 0.48439,-0.18521l1.04712,-1.04q0.19945,-0.19945 0.19945,-0.47725l0.00001,0l0.00001,0.00001l-0.00001,0.00001zm-5.00766,-5.02191q0,-0.28493 -0.19945,-0.48438l-1.46739,-1.47451q-0.19945,-0.19945 -0.48438,-0.19945q-0.27782,0 -0.48439,0.19234l-1.04712,1.03999q-0.19945,0.19945 -0.19945,0.47725q0,0.28493 0.19945,0.48438l1.48164,1.48164q0.19234,0.19234 0.48438,0.19234q0.29918,0 0.51287,-0.22083q-0.02137,-0.02137 -0.13535,-0.13178t-0.15315,-0.15315t-0.10685,-0.13535t-0.09261,-0.18166t-0.02493,-0.19589q0,-0.28493 0.19945,-0.48438t0.48438,-0.19945q0.10685,0 0.19589,0.02492t0.18166,0.09261t0.13535,0.10685t0.15315,0.15315t0.13178,0.13535q0.23506,-0.22083 0.23506,-0.51999l-0.00001,0l-0.00001,0.00001l0.00002,0.00001zm6.37532,5.02191q0,0.8548 -0.60547,1.44602l-1.04712,1.04q-0.59123,0.59123 -1.44602,0.59123q-0.86191,0 -1.45315,-0.60547l-1.46739,-1.47451q-0.59123,-0.59123 -0.59123,-1.44602q0,-0.87616 0.62685,-1.48876l-0.62685,-0.62685q-0.6126,0.62685 -1.48164,0.62685q-0.8548,0 -1.45315,-0.59835l-1.48164,-1.48164q-0.59835,-0.59835 -0.59835,-1.45315t0.60547,-1.44602l1.04712,-1.04q0.59123,-0.59123 1.44602,-0.59123q0.86191,0 1.45315,0.60547l1.46739,1.47452q0.59124,0.59123 0.59124,1.44602q0,0.87616 -0.62685,1.48876l0.62685,0.62685q0.6126,-0.62685 1.48164,-0.62685q0.85479,0 1.45315,0.59835l1.48164,1.48164q0.59835,0.59835 0.59835,1.45315l-0.00001,0l0.00001,0l-0.00001,0z"/></svg></a>
</div>
<div class="fb-share-button" data-href="{Permalink}" data-layout="button" onmouseover="pan=this.parentNode.querySelector('#sharePanel');if(pan.classList.contains('fadeintwo')){pan.classList.add('fbshow');pan.classList.remove('fadeintwo')};"></div>
{block:IndexPage}{block:NoteCount}<a href="{Permalink}#notes" class="notecount" title="{lang:Notes}"><span>{NoteCount}</span></a> {/block:NoteCount}{/block:IndexPage}{block:HasTags}<ul class="tags"><script type='text/javascript' src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'></script>
<div id="altmetBox">
</div><ul id="justtags">{block:Tags}<li><a href="{TagURL}" class="tag"><span>{Tag}</span></a></li>{/block:Tags}</ul>{block:IfDisqusShortname}

<div id="disqus_thread"></div>
<script type="text/javascript">
if (document.URL.indexOf('/post/') > -1) {
    var disqus_shortname = 'biochemistries';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
}
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<script id="recent-post-lister">
function recentPostMaker() {
    var remodelling = document.querySelector('#recent-post-pre');
    var post_number = 12;
//    recent_post_list = [];
    if (remodelling !== null) {
        sortPosts();
        var remodel_list = document.createElement('ul');
        remodel_list.setAttribute('id','recent-post-list')
        var recent_ids = id_list.slice(Math.max(id_list.length - post_number, 1));
        for (i=post_number-1;i>=0;i--) {
            var shortname = listingobj[recent_ids[i]];
//            recent_post_list.push(shortname); // may be useful
            var recent_post_link = document.createElement('a');
            recent_post_link.innerHTML = shortname.replace(/-/g,' ');
            recent_post_link.setAttribute('href','http://biochemistri.es/'+shortname);
            var recent_post_listing = document.createElement('li');
            recent_post_listing.appendChild(recent_post_link);
            remodel_list.appendChild(recent_post_listing);
        }
        remodelling.setAttribute('id','recent-post-box');
        var morepostheader = document.createElement('h3');
        morepostheader.innerHTML = 'Recent posts on the blog:';
        remodelling.appendChild(morepostheader);
        remodelling.appendChild(remodel_list);
        smoothPages(); // set ajaxLoad click handler on internal links
    }
}
</script>
<script>
function resetMarkers() {
    pdfSVG = undefined; // add more here if needed
}

function fbBug(pageInput) { // unable to fix, see https://developers.facebook.com/x/bugs/1374566599479814/
    /* if (typeof pageInput !== 'undefined') {
    }
    else {
        fbBug = function() {
        fixes = document.querySelectorAll('div.fb-like');
    for (f=0;f<fixes.length;f++) {
        newshare = document.createElement('div');
        newshare.classList.add('pluginButton', 'pluginButtonSmall')
        newshare.setAttribute('onclick',"var popup = require(&quot;PopupWindow&quot;);popup.open(&quot;\/sharer.php?u={Permalink}&amp;display=popup&quot;, 340, 670);")
        newshare.innerHTML = '<div><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="submit"><div class="pluginButtonIconPlaceholder"></div></button></div><span class="pluginButtonLabel">Share</span></div></div>'
        fixes[f].parentNode.insertBefore(newshare,fixes[f]);
        fixes[f].remove();
    }
    }
    }*/
}

function ajaxLoad(internal) {
    document.querySelector('#home').click()
    resetMarkers();
    
    var xmlhttp;
    //window.XMLHttpRequest ? xmlhttp=new XMLHttpRequest() : xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    if (window.XMLHttpRequest && ! (window.ActiveXObject || "ActiveXObject" in window)) {
    	xmlhttp = new XMLHttpRequest();
    } else {
    	// IE can't handle page writing, who knows why
    	console.log("Backing out");
    	window.location.href = internal;
    	console.log("Backed out, returning");
    	return;
    }
    
    xmlhttp.onreadystatechange=function()
    {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.open();
    document.write(xmlhttp.responseText); // IE throws a permission denied error here eugh
    document.close();
    
    window.history.pushState(xmlhttp.responseText,document.pageTitle,xmlhttp.called_url);
    sneakyRename();
    FB.XFBML.parse(); 
    smoothPages();
    } else if (xmlhttp.readyState==4) {
        // something went wrong, load traditionally
        window.location.href = internal;
    }
    }
    
    xmlhttp.open("GET",internal,true);
    xmlhttp.send();
}

redditSVG = '<svg width="17" height="14" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><metadata id="metadata21839">image/svg+xml</metadata><g><g transform="matrix(0.582694 0 0 0.578459 -18.9625 7.66585)" id="Layer_2"><circle fill="#ffffff" stroke="#000000" stroke-width="1.1" id="circle21800" r="2.7" cy="-1.50493" cx="36.01267"/><circle fill="#ffffff" stroke="#000000" stroke-width="1.1" id="circle21802" r="2.7" cy="-1.50493" cx="58.11267"/><path fill="none" stroke="#000000" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round" id="path21804" d="m54.61267,-11.00493c0,0 0,0 -5.4,-1.3l-2,6.3"/><circle fill="#ffffff" stroke="#000000" stroke-width="1.1" id="circle21808" r="2.1" cy="-10.50493" cx="56.81267"/><ellipse fill="#ffffff" stroke="#000000" stroke-width="1.1" id="ellipse21820" ry="8" rx="12.2" cy="2.19507" cx="47.01267"/><g id="g21824"><path fill="#ff4500" id="circle21826" d="m42.81267,-1.30493c-1.1,0 -2,0.9 -2,2c0,1.1 0.9,2 2,2c1.1,0 2,-0.9 2,-2c0,-1.1 -0.9,-2 -2,-2z"/><path fill="#ff4500" id="circle21828" d="m51.41267,-1.30493c-1.1,0 -2,0.9 -2,2c0,1.1 0.9,2 2,2c1.1,0 2,-0.9 2,-2c0,-1.1 -0.9,-2 -2,-2z"/><path fill="none" stroke="#000000" stroke-width="1.1" stroke-linecap="round" id="path21830" d="m42.91267,5.89507c1.1,1.1 2.8,1.3 4.2,1.3"/><path fill="none" stroke="#000000" stroke-width="1.1" stroke-linecap="round" id="path21832" d="m51.31267,5.89507c-1.1,1.1 -2.8,1.3 -4.2,1.3"/></g></g><g id="Layer_3"/></g></svg>';

    function resetClass(a) {
        a.removeAttribute('class');
    } //global
    
function switchBoard(me) {
if(me.querySelectorAll('*:hover').length===0 && me){
    resetClass(me);
    resetClass(me.previousSibling);
}
}

function styleBadges() {
    removeUselessBadges();
    if (typeof(altSources)==="undefined" || !altSources[0]) {
    altSources = document.querySelectorAll('.altmetric-embed > div > div[style*="16px"]');
    for (s=0;s<altSources.length;s++) {
        n = altSources[s];
        if (n.textContent.indexOf("Tweet")>-1) {
            n.className = "altlegend altTweets";
            n.innerHTML = n.innerHTML.replace("d by","’d by").replace("Tweete",document.querySelector('.tweet svg').outerHTML);
        }
        else if (n.textContent.indexOf("Facebook")>-1) {
            n.className = "altlegend altFb";
            n.querySelector('b').innerHTML == 1 ? sp="" : sp="s";
            n.innerHTML = n.innerHTML.replace("On ","").replace("pages",sp).replace("Facebook",document.querySelector('.fb img').outerHTML);
        }            
        else if (n.textContent.indexOf("Picked")>-1) {
            n.className = "altlegend altNews";
            if (n.querySelector('b').innerHTML == 1) {sp="";}
            else {sp="s";}
            n.innerHTML = n.innerHTML.replace("Picked up by ","").replace("news outlets","headline"+sp);
        }
        else if (n.textContent.indexOf("Blog")>-1) {
            n.className = "altlegend altBlogs";
            if (n.querySelector('b').innerHTML == 1) {sp="";}
            else {sp="s";}
            n.innerHTML = n.innerHTML.replace("Blogged by ","On ")+ " blog"+sp;
        }
        else if (n.textContent.indexOf("Google+")>-1) {
            n.className = "altlegend altGplus";
            n.innerHTML = n.innerHTML.replace("Mentioned in","+").replace("Google+ posts","on Google+");
        }
        else if (n.textContent.indexOf("review sites")>-1) {
            n.className = "altlegend altPR";
            n.querySelector('b').innerHTML == 1 ? sp="" : sp="s";

            n.innerHTML = n.innerHTML.replace("Mentioned by","").replace(" sites",sp);
        }
        else if (n.textContent.indexOf("F1000")>-1) {
            n.className = "altlegend altF1000";
            n.innerHTML = n.innerHTML.replace("Has a ","").replace("F1000 review","F1000 reviewed");
        }
        else if (n.textContent.indexOf("Reddit")>-1) {
            n.className = "altlegend altRedd";
            n.innerHTML = n.innerHTML.replace("d by","’d by").replace("Reddite",redditSVG);
        }
    }
    
    showlink = document.querySelectorAll('.altmetric_details');
    for (f=0;f<showlink.length;f++) {
        showlink[f].innerHTML = showlink[f].innerHTML.replace("See more details",'View metrics<a id="altmetricswiki" title="Altmetrics (Wikipedia)" href="https://en.wikipedia.org/wiki/Altmetrics" onclick="window.open(this.href,\'Altmetrics - Wikipedia, the free encyclopedia\', \'height=660,width=630\')">?</a>');
        showlink[f].removeAttribute('target');
        showlink[f].setAttribute('onclick',"window.open(this.href, 'Altmetrics', 'height=660,width=1030');return false;");
        showlink[f].parentNode.innerHTML = showlink[f].outerHTML;
    }
    /* // Come back and fix behaviour of bubble with event listeners
    function popprep(b) {
        b.querySelector('.altmetric_embed')
    }
    
    function popbubble(b) {
        b.querySelector('.altmetric_embed.close-popover').click();
    }
    
    bubs = document.querySelectorAll('#_altmetric_popover_el');
    for (z=0;z<bubs.length;z++) {
        bubs[z].addEventListener('mouseover',function(){this.addEventListener('mouseout',function(){this.querySelector(.altmetric_embed.close-popover).click();this.removeAttribute();");
    }}}
    */
    failedDOIs = document.querySelectorAll('div#altmetBox > div > a:not([data-content])');
    for (m=0;m<failedDOIs.length;m++) {
        failedDOIs[m].parentNode.setAttribute('style','display: none;');
    }
    
    badges = document.querySelectorAll('.altmetric-embed > a[data-badge-popover]');
    for (b=0;b<badges.length;b++) {
        if (!badges[b].hasAttribute('citeid')) {
            badges[b].setAttribute('citeid',String(badges[b].href.match(/\d{7}/g).join('')));
            badges[b].removeAttribute('target');
            badges[b].setAttribute('onclick',"window.open(this.href, 'Altmetrics', 'height=660,width=1030');return false;");
            badges[b].setAttribute('title',doilist[b][1]);
            badges[b].setAttribute('origin',doilist[b][2]);
            badges[b].setAttribute('onmouseover',"spinBadge(this.querySelector('img'));");
            badges[b].querySelector('img').setAttribute('onmouseover',"spinBadge(this);");
        // use the citation id to add links or at least a title;
        //badges[b].setAttribute('title','Metrics for '+title);
        
        /*
        
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'http://domain.com/?function=hooray';
        document.body.appendChild(script);
        
        */
        }
    }
    
    hat = '<svg width="23" height="18" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0 18) scale(1 -1)"> <title>Layer 1</title> <g id="svg_1" fill="#000000" transform="translate(0 841) scale(0.1 0.1)"> <path id="svg_2" d="m56.78395,-8262.20313c-40.05782,-21.96289 -55.09505,-30.3252 -55.09505,-30.62207c0,-0.2959 6.85309,-4.30469 24.08414,-14.09375l24.084,-13.6748l0.02472,-31.5332c0,-17.36328 0.09856,-31.55566 0.22187,-31.55566c0.09857,0 0.27116,-0.81445 0.34501,-1.77246c0.22187,-2.6543 1.38051,-4.84473 3.74707,-7.03418c3.74691,-3.49219 8.33199,-5.90332 15.99842,-8.43457c8.18433,-2.70605 16.71345,-4.3291 28.61979,-5.4375c4.65909,-0.44141 21.91486,-0.41699 26.99284,0c13.58273,1.18066 24.55261,3.54199 33.99394,7.3291c3.10602,1.25684 7.96213,3.9375 9.29332,5.14258c0.17262,0.12207 0.73947,0.61426 1.30652,1.08008c1.45433,1.18262 3.20456,3.74023 3.74684,5.46191c0.44377,1.42676 0.46852,2.85059 0.46852,33.76855l0,32.24609l13.87842,7.55273l13.85385,7.55176l0.07402,-26.26953l0.04929,-26.26953l-1.82423,-1.84473c-4.28923,-4.35254 -5.27527,-9.81348 -2.7361,-15.1748c1.62691,-3.39551 5.34924,-6.37207 8.94832,-7.13477c4.48639,-0.93262 8.72644,0.2959 12.05421,3.56934c3.30327,3.21875 4.60979,7.40137 3.77162,11.92871c-0.56688,3.12305 -3.40173,7.13086 -6.08871,8.63281l-1.30653,0.73535l0,29.44141l0,29.41992l3.64833,1.99023c4.01808,2.18848 3.74692,1.89453 4.33867,5.04297l0.17245,0.9082l-55.63737,29.58984c-30.59172,16.28516 -55.7112,29.63672 -55.78522,29.63672c-0.07384,0.02734 -24.94675,-13.55176 -55.2429,-30.17676l0,0l-0.00005,0l-0.00002,0l0.00001,0zm102.8687,-5.38867c26.13011,-13.59961 47.50255,-24.76563 47.50255,-24.84277c0,-0.07129 -21.52029,-11.63184 -47.82298,-25.65234l-47.82294,-25.53027l-45.65369,24.82031c-33.2789,18.07617 -45.6784,24.91309 -45.6784,25.23535c0,0.29297 12.54737,7.30273 45.851,25.57715c25.21786,13.84863 45.92486,25.16211 45.9987,25.1377c0.07401,0 21.52044,-11.1416 47.6258,-24.74512l0.00002,0l-0.00003,0l-0.00002,0l-0.00003,0l0.00002,0zm-72.44922,-74.25488c13.11425,-7.4502 24.05927,-13.55176 24.30585,-13.55176c0.27118,0 11.65988,6.07617 25.34119,13.52734l24.82359,13.50293l0.07402,-27.57129c0.04929,-21.91699 0,-27.62012 -0.24661,-27.76953c-0.56688,-0.36719 -1.23247,-0.83398 -1.75023,-1.2793c-0.27118,-0.24512 -0.76405,-0.48828 -1.08466,-0.56445c-0.32045,-0.09863 -0.56689,-0.24707 -0.56689,-0.34473c0,-0.12109 -0.39447,-0.34277 -0.86273,-0.49219c-0.46846,-0.14746 -0.86293,-0.36914 -0.86293,-0.48926c0,-0.12402 -0.32042,-0.27051 -0.73949,-0.37109c-0.39441,-0.09766 -0.73962,-0.24512 -0.73962,-0.36914c0,-0.09766 -0.2957,-0.26953 -0.66562,-0.36816c-0.36969,-0.0752 -1.13388,-0.36914 -1.72545,-0.6416c-0.56706,-0.24414 -1.20796,-0.46582 -1.40509,-0.46582c-0.19716,0 -0.39447,-0.12402 -0.44374,-0.24707c-0.0493,-0.14746 -0.39444,-0.29395 -0.76422,-0.34277c-0.36974,-0.02441 -0.73946,-0.15137 -0.83817,-0.22168c-0.07382,-0.09961 -0.36972,-0.17188 -0.61618,-0.17188c-0.2466,0 -0.44374,-0.09766 -0.44374,-0.22168c0,-0.125 -0.71489,-0.36914 -1.60236,-0.54102c-0.88734,-0.17285 -1.60222,-0.39355 -1.60222,-0.49121c0,-0.09766 -0.61633,-0.27051 -1.35582,-0.34473c-0.73962,-0.09766 -1.35596,-0.27148 -1.35596,-0.36816c0,-0.09863 -0.86278,-0.32031 -1.89807,-0.49316c-1.05994,-0.14844 -2.02141,-0.39258 -2.16925,-0.49316c-0.12331,-0.09766 -1.50383,-0.34375 -3.00745,-0.51367c-1.52835,-0.1748 -2.78555,-0.39551 -2.78555,-0.49414c0,-0.09766 -1.13393,-0.24414 -2.51443,-0.34473c-1.40508,-0.0957 -2.58828,-0.26953 -2.66228,-0.39258c-0.07388,-0.09961 -3.40173,-0.31836 -7.3707,-0.49121c-5.59572,-0.22168 -8.87429,-0.22168 -14.54404,0c-3.9935,0.17285 -7.3954,0.3916 -7.54327,0.51465c-0.12315,0.09961 -1.33124,0.27344 -2.63776,0.36914c-1.33105,0.10059 -2.41566,0.24707 -2.41566,0.34473c0,0.09863 -1.25723,0.31934 -2.76087,0.49414c-1.52852,0.16992 -2.83501,0.39258 -2.90886,0.49219c-0.07401,0.0957 -1.0108,0.31934 -2.09541,0.48926c-1.08463,0.17285 -2.07066,0.41992 -2.21854,0.51855c-0.12331,0.12109 -0.76418,0.27051 -1.40508,0.36816c-0.6656,0.09766 -1.18333,0.24707 -1.18333,0.34473c0,0.09766 -0.71489,0.31836 -1.60223,0.49121c-0.88749,0.17188 -1.60239,0.41602 -1.60239,0.51563c0,0.12402 -0.44374,0.27246 -0.98605,0.37109c-0.5423,0.0957 -1.03532,0.26953 -1.1339,0.39258c-0.07401,0.12207 -0.24641,0.17285 -0.36975,0.09863c-0.12328,-0.09863 -0.22183,-0.0498 -0.22183,0.09766c0,0.12207 -0.44375,0.2959 -0.98607,0.39258c-0.5423,0.09961 -0.98608,0.24512 -0.98608,0.34375c0,0.10156 -0.4683,0.34766 -1.03532,0.51953c-0.59161,0.16992 -1.10934,0.36719 -1.18317,0.4668c-0.07401,0.07324 -0.78895,0.49316 -1.60239,0.88379c-0.81345,0.39551 -1.62695,0.86133 -1.79951,1.03516c-0.1726,0.1709 -0.46832,0.31836 -0.64088,0.31836c-0.27116,0 -0.5423,0.17188 -1.77496,1.17969c-0.12312,0.12402 -0.49303,0.37109 -0.78875,0.5166l-0.54231,0.29492l0,27.6709c0,22.87402 0.04925,27.67285 0.32043,27.57324c0.19715,-0.07324 11.06829,-6.22168 24.1827,-13.67676l0.00003,0l0.00003,0l0.00005,0l-0.00002,0l0.00002,0l-0.00002,0z"/> </g> </g> </svg>'
    
    pops = document.querySelectorAll('.altmetric-embed.popover');
    for (p=0;p<pops.length;p++) {
        pops[p].setAttribute('data-uuid',badges[p].parentNode.getAttribute('data-uuid'));
        pops[p].setAttribute('origin',badges[p].getAttribute('origin'));
        openarrow = document.createElement('div');
        openarrow.setAttribute('id','openarr');
        openarrow.innerHTML = hat;
        openarrow.setAttribute('onmouseover',"thisarr = this; stepUp(thisarr); thisarr.className='out'; setTimeout(function(){thisarr.nextSibling.className='out';thisarr.nextSibling.setAttribute('onmouseout','switchBoard(this)')},500)");
        openbox = document.createElement('div');
        openbox.setAttribute('id','openbox');
        openbox.setAttribute('root_uri',pops[p].getAttribute('origin'));
        boxinner = document.createElement('div');
        boxinner.setAttribute('id','openinner');
        boxinner.style.height = (pops[p].clientHeight*0.95)-12+'px';
        title = badges[p].getAttribute('title');
        doi = badges[p].parentNode.getAttribute('data-doi');
        origin = badges[p].getAttribute('origin');
        metablock = document.createElement('div');
        metablock.setAttribute('id','metablock')
        metablock.innerHTML = 'Metadata for <em><a class="metaorigin" href="'+origin+'" onclick="window.open(this.href)">'+title+'</a></em> (<a class="metadoi" href="http://dx.doi.org/'+doi+'" title="doi: '+doi+'" onclick="window.open(this.href)">doi</a><span dir="ltr">)</span>';
        clonehat = document.createElement('svg');
        clonehat.setAttribute('width',"23");
        clonehat.setAttribute('height',"18");
        clonehat.setAttribute('id','cornerhat');
        clonehat.setAttribute('xmlns',"http://www.w3.org/2000/svg");
        clonehat.setAttribute('xmlns:svg',"http://www.w3.org/2000/svg");
        clonehat.setAttribute('preserveAspectRatio',"xMidYMid meet");
        clonehat.innerHTML = hat.replace(/<svg.*?>/,'').replace(/<\Wsvg>/,'');

        //comebackhere for(all script[origin]) {
        //      match origin    
        // }
        
        // metadatablock = ...; from origin match
        
        boxinner.innerHTML = metablock.outerHTML;
        openbox.innerHTML = boxinner.outerHTML + clonehat.outerHTML;
        hostdiv = pops[p].querySelector('div.altmetric-embed.altmetric-popover-content > div');
        hostdiv.appendChild(openarrow);
        hostdiv.appendChild(openbox);
    }
} else if (document.querySelector('body[onscroll]')) {
    if (typeof badges_done == 'undefined') {
        badges_done = true;
        sneakyRename();
        CRbadgeTitles();
    } else {
        document.querySelector('body').removeAttribute('onscroll');
        delete badges_done; // reset for AJAX loaded pages (which retain window)
    }
}
}

function spinBadge(badge) {
    if (!badge.nextSibling.nextSibling) {
    spinner = document.createElement('img');
    spinner.src = badge.src;
    spinner.className = 'spinner';
    spinner.setAttribute('width','120px');
    spinner.setAttribute('height','120px');
    spinner.setAttribute('style','border:0; margin:0; max-width: none; position: absolute; pointer-events: none; left: '+badge.offsetLeft+'px; top: '+badge.offsetTop+'px;');
    badge.parentNode.appendChild(spinner);
    setTimeout(function(){badge.nextSibling.nextSibling.className = 'spinner wheee'},0);
    setTimeout(function(){
        document.querySelector('.wheee').remove();
        bubbles = document.querySelectorAll('#_altmetric_popover_el[style*="display: block"] #_altmetric_popover_inner');
        if (bubbles.length>1 && (document.querySelectorAll('a[data-badge-popover]:hover, a[data-badge-popover] img:hover').length>0 || document.querySelectorAll('.out:hover').length>0)) {
            keepMe=document.querySelector('a[data-badge-popover]:hover, a[data-badge-popover] img:hover');
            if (keepMe === null) {
                onbox=document.querySelector('.out:hover');
                keepuuid = onbox.parentNode.parentNode.parentNode.getAttribute('data-uuid');
            }
            else if (typeof keepMe != 'undefined' && keepMe.tagName != 'A') {
                keepMe = keepMe.parentNode
            };
            if (keepMe !== null) {keepuuid = keepMe.parentNode.getAttribute('data-uuid');}
            for (b=0;b<bubbles.length;b++) {
                if (bubbles[b].getAttribute('data-uuid') != keepuuid) {
                    bubble = bubbles[b].parentNode.parentNode;
                    bubble.className = bubble.className + ' fadeout';
                    setTimeout(function(){
                        bubble.style.display = 'none';
                        aha_t = bubble.querySelector('.out');
                        aha_t && aha_t.removeAttribute('class');
                        bubble.classList.remove(['fadeout']);
                    }.bind(bubble),1000);
                }
            }
        }
        else if (bubbles.length>1) {
            uuid = badge.parentNode.parentNode.getAttribute('data-uuid');
            oldBubbles = document.querySelectorAll('#_altmetric_popover_el[style*="display: block"] #_altmetric_popover_inner:not([data-uuid="'+uuid+'"])');
            
            for (d=0;d<oldBubbles.length;d++) {
                bubble = oldBubbles[d].parentNode.parentNode;
                bubble.className = bubble.className + ' fadeout';
                    setTimeout(function(){
                        bubble.style.display = 'none';
                        aha_t = bubble.querySelector('.out');
                        aha_t && aha_t.removeAttribute('class');
                        bubble.classList.remove(['fadeout']);
                    }.bind(bubble),1000);
            }
        }
        
        else if (!!bubbles[0] && !!bubbles[0].parentNode && !!bubbles[0].parentNode.parentNode && bubbles[0].parentNode.parentNode.classList.contains('fadeout')) {
            bubble = bubbles[0].parentNode.parentNode;
            bubble.classList.remove(['fadeout']);
            aha_t = bubble.querySelector('.out');
            aha_t && aha_t.removeAttribute('class');
        }
    },3000);
    }
}

function GS(year, url, title, cite, cites, citelink, origin, pmcid) {
    this.year = year;
    this.url = url;
    this.title = title;
    this.cite = cite;
    this.cites = cites;
    this.citelink = citelink;
    this.origin = origin;
    this.pmcid = (typeof pmcid === "undefined") ? null : pmcid; // optional
}

function stepUp(a) {
    a.nextSibling.childNodes[0].style.height = (a.parentNode.parentNode.parentNode.parentNode.parentNode.clientHeight*0.95)-12+'px';
    if (a.nextSibling.nextSibling === null) {
        wip = document.createElement('div');
        wip.id = "wip";
        wip.innerHTML = 'Under construction<span class="one">.</span><span class="two">.</span><span class="three">.</span>';
        a.parentNode.appendChild(wip);
    }
}

function lrPage(e) {
e = e || window.event;

if (e.keyCode == '37') {
    document.querySelector('li.previouspost a').click();
}
else if (e.keyCode == '39') {
    document.querySelector('li.nextpost a').click();
}
}

/*

// comebackhere for fwd/back previews and tag suggestions over XHR

function nextPrev() {
    var xmlhttpP, xmlhttpN;
    window.XMLHttpRequest ? xmlhttpP=new XMLHttpRequest() : xmlhttpP=new ActiveXObject("Microsoft.XMLHTTP");
xmlhttpP.onreadystatechange=function() {
    if (xmlhttpP.readyState==4 && xmlhttpP.status==200) {
        tagHTML = xmlhttpP.responseXML;
        posts = tagHTML.querySelectorAll('loc');
        var prevPage, nextPage;
        for (i=0;i<posts.length;i++) {
            if window.location.href == posts[i]) {
                prevPage = posts[i-1];
                i!=i ? nextPage = posts[i+1]; nextPage
            }
        };
//        if (no match) {
//                get the post id with regex and use that instead
//          }
//            
    }
}
xmlhttpP.open("GET",document.querySelector('.previouspost a').href,true);
xmlhttpP.send();
}
}

function alsoTags() {
    var xmlhttpT;
    window.XMLHttpRequest ? xmlhttpT=new XMLHttpRequest() : xmlhttpT=new ActiveXObject("Microsoft.XMLHTTP");
xmlhttpT.onreadystatechange=function() {
    if (xmlhttpT.readyState==4 && xmlhttpT.status==200) {
        tagHTML = xmlhttpT.responseXML;
        posts = tagHTML.querySelectorAll('.post');
        for (i=0;i<posts.length;i++) {
            post = posts[i];
            if (post.classList.contains('post_photo')) {
                if (post.querySelectorAll('div.row').length>0) { // it's a photoset
                    this.pic = post.querySelector('div.row');
                    this.ref = 'set';
                }
                else {pic = post.querySelector('p.container'); ref = 'pic';}
            }
            else if (post.classList.contains('post_quote')) {
                this.quot = post.querySelector('h2 a');
                this.source = post.querySelector('div.source')
                this.ref = 'quot';
                
            }
        };
//        if (no match) {
//                get the post id with regex and use that instead
//            }
//            
    }
}
xmlhttpP.open("GET",document.querySelector('.previouspost a').href,true);
xmlhttpP.send();
}

*/
/*function sideLoadImg(sideimg,wcompare,oriimg){
    var swidth = sideimg.width;
    if (wcompare<swidth && oriimg.parentNode.tagName!='A') {
        oriimg.outerHTML = '<a href="'+sideimg.src+'" class="sideimg">'+oriimg.outerHTML+'</a>';
    }
}

function inpostZoom(){
    for (s=sidepics.length-1;s>=0;s--){
        var sideimg = new Image();
        var oriimg = sidepics[s];
        var wcompare = sidepics[s].width;
        sideimg.onload = sideLoadImg(sideimg,wcompare,oriimg);
    }
}
*/

function wCompare(){
    if (typeof wcompared == 'undefined') {
        for (s=sideimgs.length-1;s<=0;s--) {
            var nImg = sideimgs[s][0];
            var oImg = sideimgs[s][1];
            if (oImg.width < nImg.width && oImg.parentNode.tagName!='A') {
                oImg.outerHTML = '<a href="'+oImg.src+'" class="sideimg">'+oImg.outerHTML+'</a>';
            }
        }
        wcompared = true; // prevent repeats
    }
}

function inpostZoom(){

    var sidepics = document.querySelectorAll('div.post img[width]');
    var sideimgs = new Array(sidepics.length);
    for (s=sidepics.length-1;s>=0;s--){
        sideimgs[s] = [,,];
        sideimgs[s][0] = new Image();
        sideimgs[s][1] = sidepics[s]; // compare widths later to determine if zoom link needed
		if (s===0) {
			sideimgs[s].addEventListener('load', function(){
                    wCompare();
            });
            sideimgs[s].addEventListener('complete', function(){
                    wCompare();
            });
            sideimgs[s].addEventListener('onreadystatechange', function() {
                if (sideimgs[0].readyState === 4) {
                    wCompare();
                }
            });
		}
        sideimgs[s].src = sidepics[s].src; // it loads now
    }
}

function removeUselessBadges(){
    uselessBadges = document.querySelectorAll('#altmetBox > div > a > img[alt="Article has an altmetric score of 6"]');
    for (uselessnum=0;uselessnum<uselessBadges.length;uselessnum++) {
        uselessBadges[uselessnum].parentNode.parentNode.style.display = 'none';
    }
}

function bqCites(){
    var pagePosts = document.querySelectorAll('div.post');
    for (c=0;c<pagePosts.length;c++){
        var bqbqC = pagePosts[c].querySelectorAll('blockquote blockquote p sub a[href]');
        for (e=bqbqC.length-1;e>=0;e--) { // go in reverse to avoid removing the range
            var linkt = bqbqC[e].parentNode.innerText.replace(/»\s?\s?/,'');
            var newbqc = document.createElement('a');
            var newhref = bqbqC[e].href;
            // newbqc.href = bqbqC[e].href;
            newbqc.innerText = linkt;
            newbqc.setAttribute('href',newhref);
            newbqc.setAttribute('class','bqbqlink');
            bqbqC[e].parentNode.parentNode.parentNode.insertBefore(newbqc, bqbqC[e].parentNode.parentNode);
            newbqc.parentNode.setAttribute('class','transpbq');
            bqbqC[e].parentNode.parentNode.remove();
        }
    }
}

function captionHoverClassify() {
    var captionedimgps = [];
    var figcaps = document.querySelectorAll('.fig-cap');
    for (figcapn = 0; figcapn<figcaps.length; figcapn++) {
      var captionedimg = figcaps[figcapn].previousElementSibling.querySelector('img');
      if (captionedimg != null) {
        if (captionedimg.parentElement.tagName.toLowerCase() == 'p'){
          captionedimg.parentElement.classList.add('captioned');
          captionedimgps.push(captionedimg.parentElement);
        }
      }
    }
}

function CRlinkTitles() {
    post_links_to_retitle = document.querySelectorAll('div.post a[data-doi]:not([title])');
    for (plft=0; plft<post_links_to_retitle.length; plft++) {
        var link_target = post_links_to_retitle[plft];
        var link_doi_target = link_target.getAttribute('data-doi');
        link_target.setAttribute('title', crossref_doi_citations[link_doi_target]);
    }
}

function CRbadgeTitles() {
    console.log("Adding badge titles...!")
    badges_for_titles = document.querySelectorAll('div[data-doi][class="altmetric-embed"]:not([style])');
    for (bft=0; bft<badges_for_titles.length; bft++) {
        var badge_to_retitle = badges_for_titles[bft];
        var badge_doi_target = badge_to_retitle.getAttribute('data-doi');
        var link_target = badge_to_retitle.querySelector('a');
        if (link_target.getAttribute('title') == null
        ||  link_target.getAttribute('title') == ''  ) {
            link_target.setAttribute('title', crossref_doi_citations[badge_doi_target]);
        }
    }
}

function smoothPages() {
    altSources = undefined;
        myPosts = document.querySelectorAll("a[href*='biochemistri.es']");
        myPages = document.querySelectorAll("a[href*='/page/'], a[href='/']");
if (window.history && history.pushState) {
    for (i=0;i<myPages.length;i++) {
        clickJS = "ajaxLoad('"+myPages[i].href+"');return false;";
      myPages[i].setAttribute("onclick", clickJS);
    }
    
     for (i=0;i<myPosts.length;i++) {
        if (!myPosts[i].querySelector('.img-responsive') && myPosts[i].className.indexOf('navlink') == -1) { 
        clickJS = "ajaxLoad('"+myPosts[i].href+"');return false;";
      myPosts[i].setAttribute("onclick", clickJS);
        }
    }

    window.onpopstate = function(e){
    if(e.state){
        location.reload();
    }
    };
    
    document.onkeydown = lrPage;
    
    }
    
    function makeBadges() {
        for (l=0;l<doilist.length;l++){
            newBadge = document.createElement('div');
            newBadge.setAttribute('data-badge-popover','right');
            newBadge.setAttribute('data-badge-type','medium-donut');
            newBadge.setAttribute('origin',doilist[l][2]);
            newBadge.setAttribute('data-doi',doilist[l][0]);
            newBadge.setAttribute('data-hide-no-mentions','true');
            newBadge.className = "altmetric-embed";
            document.getElementById('altmetBox').appendChild(newBadge);
        }
    }
    
    function doiInfo(doi) {
	    var doienc = encodeURIComponent(doi);
	    var doiXHR;
	    window.XMLHttpRequest ? doiXHR=new XMLHttpRequest() : doiXHR=new ActiveXObject("Microsoft.XMLHTTP");
	 
	    doiXHR.addEventListener('load', function(){
	      crossref_retrieval_progress++;
	      if (doiXHR.readyState==4 && doiXHR.status==200){
	        var doi_resp = JSON.parse(doiXHR.responseText)[0];
	        var authors = doi_resp.fullCitation.replace(/, \d\d\d\d, .*$/, '')
	          .split(',');
	        var auths = authors.length;
	        if (auths == 1) {
	            var auth_str = authors[0];
	        } else if (auths == 2) {
	            var auth_str = authors.join(' &');
	        } else if (auths == 3) {
	            var auth_str = authors[0] + ',' + authors[1] + ' &' + authors[2];
	        } else if (auths > 3) {
	            var auth_str = authors[0] + ' et al.';
	        } else auth_str = ''; // accept weird author-less entries
	        var doi_cite = auth_str
	          + ' ('
	          + doi_resp.year
	          + ') '
	          + doi_resp.title;
	        
	        crossref_retrieval_successes++;
	        crossref_doi_citations[doi] = doi_cite;
	      }
	      
	      if (crossref_retrieval_progress == crossref_retrieval_goal) {
	          // edit titles
	          CRlinkTitles(); // can't edit badge titles here (badge load race condition) so just links
	      }
	      
	    });
	    crossref_retrieval_goal++;
	    doiXHR.open('GET', 'http://search.crossref.org/dois?q=' + doienc, true);
	    doiXHR.send();
	}
        
    outPages = document.querySelectorAll("div#page.permalinkpage div.post a:not([href*='biochemistri.es']):not(.dsq-brlink):not(.permalink)");
    if (outPages.length>0 && !document.querySelector('div.altmetric-embed')) {
    doilist = [];
    doiwatch = [];
    crossref_doi_citations = {};
    crossref_retrieval_goal = 0;
    crossref_retrieval_progress = 0; // see when ready to apply titles to badges
    crossref_retrieval_successes = 0; // out of interest
    
    for (d=0;d<outPages.length;d++) {
        doiRE = /\b(10[.][0-9]{4,}(?:[.][0-9]+)*\/(?:(?!["&\'<>])\S)+)\b/g;
        origin = outPages[d].href;
        if (outPages[d].title.indexOf("doi:")!=-1) {
            DOImatch = outPages[d].title.match(doiRE); // get DOI from link title
            if (DOImatch) {
                if ((doilist[0] && doiwatch.indexOf(DOImatch[0])==-1)
                || doilist.length<1) {
                    outPages[d].setAttribute("data-doi",DOImatch[0]);
                    doiwatch.push(DOImatch[0]);
                    doilist.push([DOImatch[0],outPages[d].title.replace(/doi:\s?/gi,'').replace(doiRE,''),origin]);
                }
            }
        }
        else {
            DOImatch = outPages[d].href.replace('%2F','/').match(doiRE); // get DOI from link URL
            if (DOImatch) {
                if ((doilist[0] && doiwatch.indexOf(DOImatch[0])==-1)
                || doilist.length<1) {
                    outPages[d].setAttribute("data-doi",DOImatch[0]);
                    doiwatch.push(DOImatch[0]);
                    doilist.push([DOImatch[0],outPages[d].title.replace(/doi:\s?/gi,'').replace(doiRE,''),origin]);
                }
            }
        }
    }
    
    for (opdoi=0; opdoi<doilist.length; opdoi++) {
        if (doilist[opdoi][1] == ''
            && !crossref_doi_citations.propertyIsEnumerable(doilist[opdoi][0])
            // if the title is blank (i.e. link didn't have one) and haven't already gotten via CrossRef,
        ) {
            doiInfo(doilist[opdoi][0]); // retrieve DOI and format title, add to crossref_doi_citations object
        }
    }
    
    makeBadges();
    
    // update the badges after retrieving titles from CrossRef where needed (async)
    // but write badges to page first of all, as for some reason this stops double AJAX requests...
    
    /*
    function foo(data)
    {
        // do stuff with JSON
    }
    
    var script = document.createElement('script');
    script.src = '//example.com/path/to/jsonp?callback=foo'
    
    document.getElementsByTagName('head')[0].appendChild(script);
    */
    
    }
    
    if (typeof pdfSVG === 'undefined') {
        pdfSVG = '<svg class="pdficon" width="14.600000000000001" height="16" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g> <g id="svg_3"> <g id="svg_2"> <g id="svg_1"> <g fill="white" transform="matrix(0.0318612 0 0 0.0311698 16.2223 -89.3014)" id="g1552"> <path fill="#F18585" fill-rule="evenodd" stroke-width="0.95407495pt" id="path1543" d="m-504.14551,2871.42969c0,166.802 0,333.604 0,500.40625c149.34375,0 298.68747,0 448.03128,0c0,-125.2605 0,-250.521 0,-375.78125c-37.45105,-42.0896 -74.88874,-84.19238 -112.375,-126.25c-111.88541,0 -223.77084,0 -335.65619,0c0,0.33325 0,1.4165 0,1.625l-0.00006,0l-0.00003,0z"/> </g> <path fill="#FFECDD" fill-rule="evenodd" stroke-width="0.95407495pt" id="path906" d="m14.53847,3.92331c-1.0588,-0.31347 -2.43077,-0.26901 -3.4672,-0.09036c0.17896,-1.14829 0.20131,-2.58734 -0.04474,-3.758l3.51193,3.84835l0.00001,0l0,0.00001z"/> <path fill="#FFFFFF" id="path900" d="m6.93574,1.26566c-0.34422,0.05049 -0.53274,0.18698 -0.69184,0.76482c-0.15908,0.57786 -0.00517,1.61811 0.21322,2.41611c0.08959,0.26548 0.20604,0.52232 0.30926,0.78419c-0.05892,0.39499 -0.13058,0.78987 -0.23194,1.17812c-0.38674,1.58543 -0.82627,3.17933 -1.48739,4.67568c-0.92081,0.45271 -1.81601,0.95412 -2.6655,1.52788c-0.51235,0.32121 -1.45011,1.22294 -0.58906,1.69724c0.48353,0.27411 0.98677,0.2187 1.4432,0c0.22821,-0.10936 0.44362,-0.26241 0.64061,-0.43075c0.19701,-0.16835 0.37702,-0.35302 0.52648,-0.53753c0.46051,-0.58045 0.85585,-1.20058 1.20389,-1.84819c1.37958,-0.6201 2.80398,-1.14188 4.27068,-1.50578c0.6133,0.53513 1.51235,1.07404 2.27525,0.54121c0.76482,-0.3484 0.63662,-1.38213 -0.23562,-1.39533c-0.57821,-0.11506 -1.15226,-0.04397 -1.71933,0.08468c-0.24718,-0.28427 -0.47664,-0.58994 -0.68847,-0.87622c-0.683,-1.08654 -1.31318,-2.20603 -1.90342,-3.3466c0.15991,-1.04604 0.32391,-2.20929 0.19561,-2.96528c-0.12828,-0.75602 -0.49818,-0.81812 -0.86568,-0.76421l0,0l0,0l0.00004,-0.00001l0.00002,-0.00002l-0.00001,-0.00001zm-0.11413,0.78417c0.09276,-0.20569 0.33182,0.01223 0.3277,0.28748c-0.00411,0.27525 -0.04785,0.89147 -0.24302,1.06367c-0.14578,-0.4458 -0.17744,-1.14548 -0.08468,-1.35115zm0.50806,4.44006c0.53693,1.07153 1.18873,2.0849 2.00282,2.96003c-0.23992,0.0692 -0.48478,0.13484 -0.72159,0.19513c-0.87421,0.27909 -1.73097,0.61428 -2.57346,0.98298c0.59848,-1.31659 0.99356,-2.72287 1.29225,-4.13814l-0.00001,0l-0.00001,0zm3.70005,3.29138c0.30804,-0.00296 0.55406,0.07552 0.49335,0.36817c-0.25967,-0.06632 -0.48591,-0.19277 -0.6995,-0.34607c0.06983,-0.00712 0.13984,-0.02146 0.20617,-0.02208l-0.00001,0l-0.00001,-0.00001l0,-0.00001zm-6.41341,2.17954c-0.0656,0.12525 -0.1181,0.25588 -0.18776,0.3792c-0.44196,0.67757 -1.08139,1.52879 -1.96232,1.51315c-0.26311,-0.73867 0.81539,-1.15052 1.31802,-1.48371c0.27394,-0.14243 0.55427,-0.27276 0.83205,-0.40867l0,0l0,0l0.00001,0l0,0.00001l0,0.00002z"/> </g> </g> </g> </g> </svg>'
        pdflist = [];
        fbBug();
        }
    
    outPDFs = document.querySelectorAll("div.post a[href*='pdf']:not([href*='biochemistri.es']):not(.dsq-brlink):not(.permalink)");
    for (u=outPDFs.length-1;u>=0;u--) {
        if (outPDFs[u].querySelectorAll('svg').length===0 && pdflist.join('	').indexOf(outPDFs[u].href)<0) {
        outPDFs[u].innerHTML = outPDFs[u].innerHTML + pdfSVG;
        pdflist.push(outPDFs[u].href);
        }
        if (!outPDFs[u].classList.contains('pdflink')) {outPDFs[u].classList.add('pdflink')}
    }
    
    PDFrendered = true;
    
    // Javascript is one big race condition so run everything onload!
    
    styleBadges();
    //inpostZoom();
    bqCites();
    captionHoverClassify();
    sneakyRename();
    recentPostMaker();
    // p blocks containing captioned images now have class
    // "caption" so CSS3 element:hover + adjacent selector
    // can be used to expand the caption box
    document.querySelector('body').setAttribute('onscroll','styleBadges();');
}
        window.onload = smoothPages();
    </script>
{/block:IfDisqusShortname}</ul>
{/block:HasTags}</div></div>
<div id="recent-post-pre"></div>
{block:PostNotes}<script>
     function noteHeight() {
        document.querySelector('div#notes').setAttribute('style','max-height:'+document.querySelector('div#notes').scrollHeight+'px');
    }
    
    function noteReset() {
        document.querySelector('div#notes').removeAttribute('style');
    }
</script>
<div id="notes" onmouseover="noteHeight();" onmouseout="noteReset();">{PostNotes}</div>{/block:PostNotes}{/block:Posts}{block:IndexPage}{block:IfInfiniteScrolling}</div>{/block:IfInfiniteScrolling}{/block:IndexPage}</div>

<div id="footer"> {block:IfAnyLastWords}<div id="anylastwords">{text:Any last words}</div>{/block:IfAnyLastWords}{block:Pagination}<div id="pagination">
<p>{lang:Page CurrentPage of TotalPages}</p><ul class="pagenumbering">{block:PreviousPage}<li class="previouspage" align="center"><a href="{PreviousPage}"><span>{lang:Previous}</span></a></li>{/block:PreviousPage}{block:JumpPagination length="7"}{block:CurrentPage}<li><span class="currentpage">{PageNumber}</span></li>{/block:CurrentPage}{block:JumpPage}<li><a href="{URL}">{PageNumber}</a></li>{/block:JumpPage}{/block:JumpPagination}{block:NextPage}<li class="nextpage"><a href="{NextPage}"><span>{lang:Next}</span></a></li>{/block:NextPage}</ul></div>{/block:Pagination}</center><ul class="menu_b"><hf class="menu_b">
    
    <center><li class="menu_b"><a href="/archive"><img class="menu_b" src="http://media.tumblr.com/9aadb6cb7c5d7ffa266030bf220ee32a/tumblr_inline_mrn7nrhq1O1qz4rgp.png" title="View archive" width="50"></a></li>
    <li><a href="http://biochemistri.es/ask"><img src="http://media.tumblr.com/229973fdd3f2dfd7ecb7f86589c54bb8/tumblr_inline_mrn7o0nnq71qz4rgp.png" title="Contact me" width="50" id="contact" class="menu_b"></a></li>
    <li><a class="menu_b" alt="naivelocus" href="http://naivelocus.com"><img class="menu_b" src="https://31.media.tumblr.com/083f03293366b8cb556800fad8f81057/tumblr_inline_mxqr62COWc1s16nrs.png" title="naïve locus" width="50"></a></li>
    <li><a href="https://twitter.com/biochemistries"><img src="https://31.media.tumblr.com/b89709d0f05d84092efa7aa4af3a68b4/tumblr_inline_mxnb1k0m321s16nrs.png" title="@biochemistries" width="50" class="menu_b"></a></li>
    <li><a href="/rss"><img src="http://media.tumblr.com/fd33a8dbe9741be1b4b3c295432b609f/tumblr_inline_mrn7nvLSNP1qz4rgp.png" title="RSS feed" width="50" class="menu_b"></a></li>
     </ul></hf>
     <script type="text/javascript">
     function twoCol() {

 var twoimg = document.createElement("img");
            twoimg.src = "http://31.media.tumblr.com/edc544c31954a93c609c57ae23e6c15d/tumblr_inline_n28airVNSd1s16nrs.png";
            twoimg.width = "40";
            twoimg.title = "View site as two columns";
        
        var twoLink = document.createElement("a");
            twoLink.href = window.location.href.replace("?col","");
            twoLink.id = "twoCol"

        twoLink.appendChild(twoimg);

document.getElementById("footer").appendChild(twoLink);
    
}
        function oneCol()
        { 
        var csscol = document.createElement("style");
        csscol.type = "text/css";
        csscol.innerHTML = "div.post { width:90% !important; float: right !important; margin-bottom: 20em !important; }";
        document.getElementsByTagName("head")[0].appendChild(csscol);
        
        var changeUrls = document.getElementById("pagination").querySelectorAll("ul > li > a[href]");
        var changetagUrls = document.getElementById("tagCloud").querySelectorAll("span > a[href]")
        
        for (var i = 0; i < changeUrls.length; i++) {
        var currentUrl = changeUrls[i].getAttribute("href")
        var newUrl = currentUrl.concat("?col")
        changeUrls[i].setAttribute("href",newUrl);
}

        for (var i=0; i < changetagUrls.length; i++) {
            var currenttagUrl = changetagUrls[i].getAttribute("href")
            var newtagUrl = currenttagUrl.concat("?col")
            changetagUrls[i].setAttribute("href",newtagUrl)
        }
         document.getElementById("oneCol").remove();
         twoCol();
        }
    
    function tagCloudHeight() {
        document.querySelector('div#tagCloud').setAttribute('style','height:'+document.querySelector('div#tagCloud').scrollHeight+'px');
    }
    
    function tagCloudReset() {
        document.querySelector('div#tagCloud').removeAttribute('style');
    }
     </script>
     <a id="hovertag" onmouseover="tagCloudHeight();" onmouseout="tagCloudReset();">#tags</a><div id="tagCloud" onmouseover="tagCloudHeight();" onmouseout="tagCloudReset();"></div>
     <ul id="enabled">{block:HasPages}{block:Pages}<li class="page"><a href="{URL}"><span>{Label}</span></a></li>{/block:Pages}<li class="page"><a href="http://www.r-bloggers.com/"><span>R bloggers</span></a></li>{/block:HasPages}{block:AskEnabled}{/block:AskEnabled}{block:SubmissionsEnabled}<li class="submit"><a href="/submit"><span>{SubmitLabel}</span></a></li>{/block:SubmissionsEnabled}{block:IfInfiniteScrolling}<li class="archive"><a href="/archive">{lang:Archive}</a></li><li class="theme"><a href="http://biochemistri.es/ask">Contact</a><li class="rss"><a href="{RSS}">{lang:RSS}</a></li></li>{/block:IfInfiniteScrolling}</ul>
    <!-- <a title="View site as a single column" id="oneCol" onclick="oneCol()" href="#top"><img src="http://31.media.tumblr.com/15022f520ca1c6b4cc8957af15ec67bf/tumblr_inline_n27p8xoY0F1s16nrs.png" class="menu_b" style="position: absolute; left: 15px; width: 20px;"></a> -->
     <script type="text/javascript" src="http://post-theory.com/public/tagcloud/biochemistries?sort=frequency&mincount=2&maxsize=300&math=modlog&pad=4&tagct=%20%3Csup%3E%24%3C%2Fsup%3E&scalect=false" async="async"></script>
    </center>
</hf></ul>
</div></div><script>
    (function() // Code in a function to create an isolate scope
{
var speed = 500;
var moving_frequency = 15; // Affects performance !
var links = document.getElementsByTagName('a');
var href;
for(var i=0; i<links.length; i++)
{   
    href = (links[i].attributes.href === undefined) ? null : links[i].attributes.href.nodeValue.toString();
    if(href !== null && href.length > 1 && href.substr(0, 1) == '#')
    {
        links[i].onclick = function()
        {
            var element;
            var href = this.attributes.href.nodeValue.toString();
            if(element = document.getElementById(href.substr(1)))
            {
                var hop_count = speed/moving_frequency
                var getScrollTopDocumentAtBegin = getScrollTopDocument();
                var gap = (getScrollTopElement(element) - getScrollTopDocumentAtBegin) / hop_count;

                for(var i = 1; i <= hop_count; i++)
                {
                    (function()
                    {
                        var hop_top_position = gap*i;
                        setTimeout(function(){  window.scrollTo(0, hop_top_position + getScrollTopDocumentAtBegin); }, moving_frequency*i);
                    })();
                }
            }
            
            if (pageYOffset !== 0) {
                function incrementScroll() {
                    window.scrollBy(0, -4);
                    if (pageYOffset <= 4) {
                        window.scrollBy(0, -4);
                        stopScrollLoop();
                    }
                }
            var scrollLoopId;
            function startScrollLoop() {
                scrollLoopId = setInterval( incrementScroll, 20);
            }
            function stopScrollLoop() {
                clearInterval( scrollLoopId ) ;
            }
            startScrollLoop();
            }

            return false;
        };
    }
}

var getScrollTopElement =  function (e)
{
    var top = 0;

    while (e.offsetParent != undefined && e.offsetParent != null)
    {
        top += e.offsetTop + (e.clientTop != null ? e.clientTop : 0);
        e = e.offsetParent;
    }

    return top;
};

var getScrollTopDocument = function()
{
    return document.documentElement.scrollTop + document.body.scrollTop;
};
})();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46358795-1', 'biochemistri.es');
  ga('send', 'pageview');

</script>
<div id="CCBYlicense"><a id="CCoverlay" rel="license" href="http://creativecommons.org/licenses/by/4.0/" alt="Creative Commons Attribution license - share, adapt, attribute. Click to read more." onclick="window.open(this.href, 'CC-BY license v4.0', 'height=600,width=845');return false;"></a><svg id="CCface" class="face front" width="35" height="35" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 <g transform="scale(0.055) translate(-13, -2)">
  <circle fill="none" stroke-width="70" cx="331" cy="318" r="274.775" id="svg_1" stroke="#000000"/>
  <path d="m230.511,405.57001c41.39601,0 76.105,-28.97699 85.02101,-67.828l-41.715,0c-7.64203,16.55899 -24.20102,28.02301 -43.30702,28.02301c-26.42998,0 -47.765,-21.33603 -47.765,-47.76501c0,-26.42999 21.33502,-47.76498 47.765,-47.76498c19.106,0 35.66502,11.46399 43.30702,27.70398l41.715,0c-8.91602,-38.53098 -43.625,-67.509 -85.02101,-67.509c-48.40201,0 -87.569,39.168 -87.569,87.57001s39.16699,87.57001 87.569,87.57001z" id="svg_2"/>
  <path d="m420.03799,405.57001c41.396,0 76.10501,-28.97699 85.021,-67.828l-41.71399,0c-7.64401,16.55899 -24.202,28.02301 -43.30701,28.02301c-26.43201,0 -47.767,-21.33603 -47.767,-47.76501c0,-26.42999 21.33499,-47.76498 47.767,-47.76498c19.104,0 35.66299,11.46399 43.30701,27.70398l41.71399,0c-8.91498,-38.53098 -43.625,-67.509 -85.021,-67.509c-48.40201,0 -87.569,39.168 -87.569,87.57001s39.16699,87.57001 87.569,87.57001z" id="svg_3"/>
 </g>
</svg>
    <svg id="BYface" class="face back" width="35" height="35" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
  <g id="svg_1" transform="scale(0.127)">
   <path fill="#000000" id="path2314" d="m134.57227,2.013c-72.91253,1.84921 -131.57227,61.64142 -131.57227,134.9935c0,74.51639 60.48,134.99344 135,134.99344c74.51999,0 135,-60.47705 135,-134.99344c0,-74.51639 -60.48001,-134.9935 -135,-134.9935c-1.16438,0 -2.27042,-0.02936 -3.42773,0zm-0.13184,23.20203c1.19614,-0.0379 2.35426,0 3.55957,0c61.71188,0 111.79688,50.08255 111.79688,111.79147c0,61.70889 -50.08499,111.79147 -111.79688,111.79147c-61.71187,0 -111.79687,-50.08258 -111.79687,-111.79147c0,-60.50365 48.19039,-109.8877 108.2373,-111.79147z"/>
   <path fill="#000000" id="path2838" d="m157.51172,69.22809a19.51172,19.51172 0 1 1 -39.02344,0a19.51172,19.51172 0 1 1 39.02344,0z"/>
   <path fill="#000000" id="path3572" d="m117.81383,224.28357l40.37239,0l0,-64.87973l12.20483,0c0,0 -0.00449,-46.3656 0,-53.66296c-0.01199,-1.92506 0.17383,-5.75885 -2.61874,-8.55133c-2.79251,-2.79254 -6.5618,-2.62326 -8.55136,-2.61877c-1.98953,0.00449 -40.45238,0.00449 -42.44189,0c-1.98952,-0.00449 -5.75885,-0.17377 -8.55136,2.61877c-2.79256,2.79248 -2.60677,6.62627 -2.61876,8.55133c0.00449,7.29736 0,53.66296 0,53.66296l12.2049,0l0,64.87973l-0.00002,0l0.00001,0z"/>
 </g>
</svg>
</div>
<script type="text/javascript">
var sc_project=9361622; 
var sc_invisible=1; 
var sc_security="e781d91d"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
        window.onload = smoothPages();
        fbBug();
        if (typeof getSet != 'undefined') {window.onload = getSet();};
</script>
<noscript><div class="statcounter"><a title="tumblr
analytics" href="http://statcounter.com/tumblr/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/9361622/0/e781d91d/1/"
alt="tumblr analytics"></a></div></noscript>
</body></html>
